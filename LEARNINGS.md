# Project Learnings

Record key learnings, insights, and reflections during the project here.

- **Gunicorn Caching/Process Management:** Gunicorn can sometimes serve stale versions of the application code, especially if it's preloading the app or if old worker processes aren't terminated correctly. This led to `NameError`s for variables defined in newer code. Solution involved forcefully killing old Gunicorn processes (`pkill -f gunicorn`) and clearing Python bytecode cache (`rm -rf __pycache__`) in the restart script (`restart_server.sh`) to ensure the latest code is loaded.
- **Jinja Template Syntax Errors:** Commenting out blocks of HTML containing Jinja tags (like `{% if %}`/`{% endif %}`) using HTML comments (`<!-- ... -->`) does *not* prevent Jinja from parsing those tags. This caused a `TemplateSyntaxError` (unexpected 'endif'). Solution was to completely delete the commented-out block from the template (`templates/index.html`) or use Jinja comments (`{# ... #}`).
- **CSS Scoping:** CSS rules defined within a `<style>` block in one template (`templates/history.html`) are not automatically available in other templates (`templates/index.html`). This prevented button styles from applying correctly across pages. Solution was to move the shared button styles (`.btn-link`, `.btn-link-download-db`, etc.) to the global stylesheet (`static/css/style.css`) and remove the inline `<style>` block from the specific template.
- **Jinja Variable Mismatches:** When using conditional logic (e.g., `{% if ... %}`) in templates based on data from the backend, ensure the values being compared *exactly* match (including case and formatting). We encountered an issue where the template checked for lowercase short types (`pdf`, `word`) while the backend provided full names (`PDF Document`, `Word Document`), causing the logic to fail. Solution was to update the template conditions to match the backend data.
- 